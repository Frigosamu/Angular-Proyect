<div class="container my-3">
    <div class="text-center">
        <h2 class="d-flex justify-content-center m-3">Lista de Libros</h2>
        <a class="btn btn-dark text-white rounded-pill shadow-sm" [routerLink]="['/crear-libro']">Añadir un nuevo
            libro</a>
    </div>

    <div class="text-center my-3">
        <label for="ordenarPor" class="me-2">Ordenar por:</label>
        <select id="ordenarPor" class="form-select d-inline-block w-auto" [(ngModel)]="filtro" (click)="ordenarLibros()">
            <option value="alfabetico">Alfabéticamente</option>
            <option value="fecha">Fecha de Publicación</option>
        </select>
    </div>

    @if (libros.length != 0) {
    <div class="container">
        @for (libro of libros; track libro.id) {
        <div>
            <div class="d-flex align-items-center">
                <div class="me-4">
                    @if (libro.imagen === "") {
                        <p class="text-danger">Imagen No Disponible</p>
                    } @else {
                        <img [src]="libro.imagen" alt="{{ libro.nombre }}" style="max-width: 150px;">
                    }
                </div>

                <div class="text-start">
                    <h4>{{ libro.nombre }}</h4>
                    <p><strong>Autor:</strong> {{ libro.autor }}</p>
                    <p><strong>Año de publicación:</strong> {{ libro.anioPublicacion }}</p>
                    <p><strong>Género:</strong> {{ libro.genero }}</p>
                    <p><strong>Sinopsis:</strong> {{ libro.sinopsis }}</p>

                    <a class="btn btn-success" [routerLink]="['/editar-libro', libro.id]">Editar</a>
                    <a class="btn btn-orange m-1" [routerLink]="['/detalle-libro', libro.id]">Detalles</a>
                    <a class="btn btn-danger" (click)="deleteLibro(libro.id)">Eliminar</a>
                </div>
            </div>
            <hr>
        </div>
        }
    </div>

    } @else {
    <div class="alert alert-warning" role="alert">
        No hay libros registrados
    </div>
    }
</div>